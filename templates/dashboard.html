{% extends 'sidebar.html' %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/274ee977b7.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Document</title>
    {% load static %}
  
    <br>
    <style>
          body {
      background-color:#d7dfee;
  padding: 20px;
}
      

        .card-container {
        perspective: 1000px;
        }

        .crd {
            height: 200px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
           
        }


       

        .crd .side {
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            position: absolute;
            justify-content: center;
            align-items: center;
        }

        .crd .front {
            transform: rotateY(0deg); /* Ensure the front side is visible initially */
            display: flex;
        }

      

        .popup {
          display: none;
          position: fixed;
          top: 75%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: #f9f5f5;
          padding: 20px;
          border-radius: 5px;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
          z-index: 9999;
        }

        .popup-content {
            text-align: center;
        }

       
      .table thead th,
.table tbody td {
  text-align: center; /* Adjust alignment as needed */
}
.table thead th {
  background-color: #090909; /* Blue color, change as needed */
  color: #fff; /* Text color, change as needed */
}

/* For table body alternating rows */
.table-striped tbody tr:nth-of-type(odd) {
  background-color: #ffffff; /* Light gray color, change as needed */
}

/* For table body text color */
.table tbody td {
  color: #333; /* Dark text color, change as needed */
}
.crd {
      margin-bottom: 20px;
    }

    @media (min-width: 768px) {
      .card-columns {
        -webkit-column-count: 3;
        -moz-column-count: 3;
        column-count: 3;
      }
    }
    .card-img-top {
      width: 100%;
      height: auto;
    }
    .crd {
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
  }
  .crd:hover {
        transform: scale(1.15);
    }
  {% comment %} .card-body {
    padding: 20px;
  } {% endcomment %}
  .card-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 10px;
  }
  .card-text {
    font-size: 1.2rem;
    color: #555;
  }
  

  @media (min-width: 1024px) {
    
    .h-screen {
        margin-left: 40px; /* Same as sidebar width */
    }
}
.market-update-right i.fa.fa-users {
    font-size: 2.5em;
    color: #343A40;
    background: #fff;
    text-align: center;
    border-radius: 49px;
    -webkit-border-radius: 49px;
    -moz-border-radius: 49px;
    -o-border-radius: 49px;
    line-height: 1.7em;
  }
  .market-update-right i.fa.fa-bar-chart {
    font-size: 2.5em;
    color: #343A40;
    background: #fff;
    text-align: center;
    border-radius: 49px;
    -webkit-border-radius: 49px;
    -moz-border-radius: 49px;
    -o-border-radius: 49px;
    line-height: 1.7em;
  }
  .market-update-right i.fa.fa-money-bill-trend-up {
    font-size: 3em;
    color: #343A40;
    background: #fff;
    text-align: center;
    border-radius: 49px;
    -webkit-border-radius: 49px;
    -moz-border-radius: 49px;
    -o-border-radius: 49px;
    line-height: 1.7em;
  }
  [role="progressbar"] {

    --percentage: var(--value);
    --primary: rgba(75, 192, 192);
    --secondary: #c6f5f1;
    --size: 100px;
    animation: progress 2s 0.5s forwards;
    width: 65%; 
    aspect-ratio: 2 / 1;
    border-radius: 50% / 100% 100% 0 0;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    margin-left: 50px;
  }
  
  [role="progressbar"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: conic-gradient(from 0.75turn at 50% 100%, var(--primary) calc(var(--percentage) * 1% / 2), var(--secondary) calc(var(--percentage) * 1% / 2 + 0.1%));
    mask: radial-gradient(at 50% 100%, white 55%, transparent 55.5%);
    mask-mode: alpha;
    -webkit-mask: radial-gradient(at 50% 100%, #0000 55%, #000 55.5%);
    -webkit-mask-mode: alpha;
  }
  
  [role="progressbar"]::after {
    counter-reset: percentage var(--value);
    content: counter(percentage) '%';
    font-family: Helvetica, Arial, sans-serif;
    font-size: calc(var(--size) / 5);
    color: var(--primary);
  }
  h2 {
    font-size: 1.5rem;
    margin-bottom: 10px;
}
.cardf {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
}
</style>
</head>

<body >
    <br>
    <header class="bg-surface-primary border-bottom">
        <div class="container-fluid">
            <div class="mb-npx">
                <div class="row align-items-center">
                    <div class="col-sm-6 col-12 mb-4 mb-sm-0">
                        <!-- Title -->
                        <br>
                        <br>
                        <h1 class="h2 mb-0 ls-tight ml-5">Dashboard</h1>
                        
                    </div>
            </div>
        </div>
    </header>
    <div class="row justify-content-center" style="padding:40px;gap:40px;justify-content: start;display: flex;flex-wrap: wrap;">
        <section class="card cardf col-md-4 py-4" style="padding:10px;">
            <div class="row">
                <div class="col-md-8">
                    <h4>Total Profit <br>$95,595</h4>
                </div>
                <div class="market-update-right ml-2">
                    <i class="fa fa-money-bill-trend-up"></i>
                </div>
            </div>
        </section>
        <section class="card cardf col-md-3 py-4" style="padding:10px;">
            <div class="row">
                <div class="col-md-8">
                    <h4>New Users <br>13,984</h4>
                </div>
                <div class="market-update-right ml-2">
                    <i class="fa fa-users"></i>
                </div>
            </div>
        </section>
        <section class="card cardf col-md-4 py-4" style="padding:10px;">
            <div class="row">
                <div class="col-md-8">
                    <h4>Total Expenses <br>$12,789</h4>
                </div>
                <div class="market-update-right ml-2">
                    <i class="fa fa-bar-chart"></i>
                </div>
            </div>
        </section>
    </div>
    <div class="row justify-content-center py-5" style="justify-content: start;display: flex;flex-wrap: wrap;gap:30px;padding:30px;">
        <section id="user-activity" class="card cardf col-md-4 ml-1">
            <h2 style="text-align:center">User Activity</h2>
            <canvas id="userActivityChart" width="300" height="100"></canvas>
        </section>
        <section class="card cardf col-md-4">
            <h2 style="text-align:center">Products</h2>
            <div class="container table-responsive">
                <table class="table">
                    <tr>
                        <td>1</td>
                        <td>Shirt <br> Men</td>
                        <td>$ 30</td>
                    </tr><tr>
                        <td>2</td>
                        <td>Top <br>Women</td>
                        <td>$ 12</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Hoodie <br>Unisex</td>
                        <td>$ 25</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>shoes <br>Men</td>
                        <td>$ 45</td>
                    </tr>
                </table>
            </div>
        </section>
        <section class="card cardf col-md-3">
            <div class="row d-flex justify-content-center" style="height: 10vh;">
                <img src="{% static 'images/user.jpg' %}" class="p-2" width="80" height="80" style="border-radius: 50px;bottom: 50px;position:relative;background-color: white;">
                <h5>John Doe</h5>
            </div>
            <div class="row">
                <div class="col"><center><span style="font-weight: 500;">3.7K</span> <br> <p style="color: gray;">Product</p></center></div>
                <div class="col"><center><span style="font-weight: 500;">11.5K</span> <br> <p style="color: gray;">Followers</p></center></div>
            </div>
            <div class="row">
                <div role="progressbar" aria-valuenow="92" aria-valuemin="0" aria-valuemax="100" style="--value: 92"></div>
            </div>
            <div class="row pb-3" style="display: flex;justify-content: center;">
                <div style="width: 100%;display: flex;justify-content: center;"><h5>$ 35,000</h5></div>
                
                <div style="width: 100%;display: flex;justify-content: center;"><h6 style="color: gray;">Earning this month.</h6></div>
            </div>
            <div class="row pb-3">            
                <a href="" class="ml-2 mt-3">More about John Doe...</a> 
                
            </div>
        </section>
    </div>
    <div class="container row justify-content-center py-5 ml-2" style="padding:40px;gap:40px;justify-content: start;display: flex;flex-wrap: wrap;">
        <section id="revenue" class="card cardf col-md-6 ml-2">
            <h2>Revenue</h2>
            <canvas id="revenueChart" width="500" height="300"></canvas>
        </section>
        <section class="card cardf col">
            <h2>Lead Generation</h2>
            <canvas id="leadGenerationChart" width="400" height="300"></canvas>
        </section>
    </div>
        <br><br>
     
       
      
        <main class="py-6 bg-surface-secondary" style="padding-bottom: 10px;">
            <div class="container-fluid">
                <div class="container mt-3 mb-3 pt-1">
                    <div class="row">
                        {% if '1' not in dashboard %}
                        <div class="col-sm-3 mb-3">
                            <div id="draggable1" class="card crd" draggable="true">
                                <div class="side front">
                                    <div class="card-body" style="background-color: #91e6a3;height:200px;" >
                                        <h4 class="card-title">$ 0.00</h4>
                                        <h5 class="card-subtitle mb-2 text-muted">Free Trial</h5>
                                        <h6>No Extra Benefits</h6>
                                        <h6>Valid for 7 Days</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
    
                        {% if '2' not in dashboard %}
                        <div class="col-sm-3 mb-3">
                            <div id="draggable2" class="card crd" draggable="true">
                                <div class="side front">
                                    <div class="card-body" style="background-color: #91e6a3;height:200px;" >
                                        <h4 class="card-title">$ 49.70</h4>
                                        <h5 class="card-subtitle mb-2 text-muted">Standard</h5>
                                        <h6>No Extra Benefits</h6>
                                        <h6>Valid for 1 Month</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
    
                        {% if '3' not in dashboard %}
                        <div class="col-sm-3 mb-3">
                            <div id="draggable3" class="card crd" draggable="true">
                                <div class="side front">
                                    <div class="card-body" style="background-color: #91e6a3;height:200px;" >
                                        <h4 class="card-title">$ 70.64</h4>
                                        <h5 class="card-subtitle mb-2 text-muted">Premium</h5>
                                        <h6>No Extra Benefits</h6>
                                        <h6>Valid for 3 Months</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
    
                        {% if '4' not in dashboard %}
                        <div class="col-sm-3 mb-3">
                            <div id="draggable4" class="card crd" draggable="true">
                                <div class="side front">
                                    <div class="card-body" style="background-color: #91e6a3;height:200px;" >
                                        <h4 class="card-title">$ 92.05</h4>
                                        <h5 class="card-subtitle mb-2 text-muted">Premium</h5>
                                        <h6>No Extra Benefits</h6>
                                        <h6>Valid for 5 Months</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
          
          
                <!-- Add a pop-up element -->
                <div id="popup" class="popup">
                  <div class="popup-content">
                    <img src="{% static 'images/trash.webp' %}" style="height: 50px; width: 50px;"  class="img-fluid">
                  </div>
                </div>
          
               <br>
               <br>

            </div>
      
        </main>
  </div>
      <br>
   
      <script>
        // Revenue Chart
        var revenueData = {
            labels: ['January', 'February', 'March', 'April', 'May', 'June'],
            datasets: [{
                label: 'Revenue ($)',
                data: [10000, 15000, 20000, 25000, 30000, 35000],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        };

        var revenueChart = new Chart(document.getElementById('revenueChart'), {
            type: 'line',
            data: revenueData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Lead Generation Chart
        var leadGenerationData = {
            labels: ['Website', 'Referrals', 'Events', 'Email Campaigns'],
            datasets: [{
                label: 'Conversion Rate (%)',
                data: [40, 30, 20, 10],
                backgroundColor: [
                'rgba(75, 192, 192, 0.6)',
                'rgba(75, 192, 192, 0.8)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 0.4)',
                'rgba(75, 192, 192, 0.2)'
                ],
                borderColor: [
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)'
                ],
                borderWidth: 1
            }]
        };

        var leadGenerationChart = new Chart(document.getElementById('leadGenerationChart'), {
            type: 'bar',
            data: leadGenerationData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // User Activity Chart (Hollow Pie Chart)
        var userActivityData = {
            labels: ['Active Users', 'Inactive Users', 'Pending Users', 'Premium Users', 'Free Users'],
            datasets: [{
                label: 'User Activity',
                data: [35, 20, 22, 10, 12],
                backgroundColor: [
                'rgba(75, 192, 192, 0.6)',
                'rgba(75, 192, 192, 0.8)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 0.4)',
                'rgba(75, 192, 192, 0.2)'
                ],
                borderColor: [
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(75, 192, 192, 1)'
                ],
                borderWidth: 1
            }]
        };

        var userActivityChart = new Chart(document.getElementById('userActivityChart'), {
            type: 'pie',
            data: userActivityData,
            options: {
                cutout: '70%', // Adjust this value for the size of the hole
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        }); 
    </script> 


    <script>
        document.querySelectorAll('.crd').forEach(card => {
                  card.addEventListener('dragstart', function(e) {
                      e.dataTransfer.setData('text/plain', card.id);
                      document.getElementById('popup').style.display = "block"; // Show the popup
                  });
              });
          
              document.getElementById('popup').addEventListener('dragover', function(e) {
                  e.preventDefault();
              });
          
              document.getElementById('popup').addEventListener('drop', function(e) {
                  e.preventDefault();
                  document.getElementById('popup').style.display = "none"; // Hide the popup
                  var data = e.dataTransfer.getData('text/plain');
                  if (data) {
                      var card = document.getElementById(data);
                      card.parentNode.removeChild(card); // Remove the dropped card from the page
                  }
              });
          
              document.addEventListener('dragover', function(e) {
                  e.preventDefault();
              });
              
              document.addEventListener('drop', function(e) {
                  e.preventDefault();
                  document.getElementById('popup').style.display = "none"; // Hide the popup
              });
    
    
    
    
    
              // Function to retrieve card IDs from the first page and redirect to the second page with item_ids
              function redirectToSecondPage() {
                  var cardIds = [];
                  document.querySelectorAll('.crd').forEach(card => {
                      var cardId = card.id.replace('draggable', '');
                      cardIds.push(cardId);
                  });
                  var linkToSecondPage = '{% url "archivec" %}?item_ids=' + cardIds.join(',');
                  window.location.href = linkToSecondPage; // Redirect to the second page with card IDs
              }
    
    
    
              document.addEventListener("DOMContentLoaded", function() {
                const enquiryBox = document.getElementById("enquiry-box");
                const enquiryLink = document.getElementById("enquiry-link");
                const closeEnquiryBox = document.getElementById("close-enquiry-box");
                
                enquiryLink.addEventListener("click", function(event) {
                    event.preventDefault();
                    enquiryBox.style.display = "block";
                });
            
                closeEnquiryBox.addEventListener("click", function() {
                    enquiryBox.style.display = "none";
                });
            });
    </script>




  


{% endblock %}

</body>
</html>